process.executor = 'local'

process {
    withLabel:  artic       { cpus = params.cores }
    withLabel:  augur       { cpus = params.cores }
    withLabel:  bwa         { cpus = params.cores }
    withLabel:  fasttree    { cpus = 4 }
    withLabel:  gubbins     { cpus = params.cores }
    withLabel:  guppy_cpu   { cpus = params.cores }
    withLabel:  guppy_gpu   { cpus = params.cores }
    withLabel:  kraken2     { cpus = params.cores }
    withLabel:  krona       { cpus = 1 }
    withLabel:  mafft       { cpus = params.cores }
    withLabel:  nextclade   { cpus = params.cores }
    withLabel:  nanoplot    { cpus = params.cores }
    withLabel:  pangolin    { cpus = 4 }
    withLabel:  president   { cpus = 1 }
    withLabel:  snippy      { cpus = params.cores; memory = params.memory }
    withLabel:  ubuntu      { cpus = 1 } 
}